# 游戏 UI 元素指南

本文档详细说明了游戏中常见的 UI 元素及其典型用途。

## 基础容器类

### 1. Panel (面板)
- **用途**：作为其他 UI 元素的容器
- **典型场景**：
  - 主界面背景
  - 弹窗背景
  - 功能模块容器
- **特点**：
  - 可以设置背景图片或颜色
  - 支持透明度
  - 可以作为其他元素的父节点

### 2. ScrollView (滚动视图)
- **用途**：显示超出屏幕范围的内容
- **典型场景**：
  - 物品列表
  - 聊天记录
  - 排行榜
  - 任务列表
- **特点**：
  - 支持水平和垂直滚动
  - 可以设置惯性滚动
  - 支持弹性效果

### 3. Layout (布局)
- **用途**：自动排列子元素
- **典型场景**：
  - 按钮组
  - 物品栏
  - 技能栏
  - 菜单项
- **特点**：
  - 支持多种布局方式（水平、垂直、网格）
  - 自动调整间距
  - 支持动态添加/删除元素

## 信息展示类

### 1. Label (文本标签)
- **用途**：显示文字信息
- **典型场景**：
  - 游戏标题
  - 玩家名称
  - 属性数值
  - 提示信息
  - 对话内容
- **特点**：
  - 支持多种字体
  - 可以设置描边和阴影
  - 支持富文本

### 2. ProgressBar (进度条)
- **用途**：显示进度或数值比例
- **典型场景**：
  - 生命值条
  - 经验值条
  - 加载进度
  - 技能冷却
- **特点**：
  - 支持多种样式
  - 可以设置动画效果
  - 支持反向填充

### 3. Sprite (精灵)
- **用途**：显示图片资源
- **典型场景**：
  - 角色头像
  - 物品图标
  - 背景图片
  - 特效图片
- **特点**：
  - 支持图片裁剪
  - 支持颜色叠加
  - 支持九宫格缩放

## 交互类

### 1. Button (按钮)
- **用途**：响应用户点击
- **典型场景**：
  - 功能按钮
  - 确认/取消按钮
  - 菜单选项
  - 技能按钮
- **特点**：
  - 支持多种状态（正常、按下、禁用）
  - 可以设置点击效果
  - 支持长按事件

### 2. Toggle (开关)
- **用途**：表示开关状态
- **典型场景**：
  - 设置选项
  - 功能开关
  - 多选选项
- **特点**：
  - 支持选中/未选中状态
  - 可以设置切换动画
  - 支持单选/多选模式

### 3. Slider (滑动条)
- **用途**：调节数值
- **典型场景**：
  - 音量控制
  - 亮度调节
  - 进度调节
- **特点**：
  - 支持拖拽操作
  - 可以设置步进值
  - 支持数值范围限制

## 特殊功能类

### 1. EditBox (输入框)
- **用途**：接收用户输入
- **典型场景**：
  - 登录界面
  - 聊天输入
  - 搜索框
  - 数值输入
- **特点**：
  - 支持多种输入模式
  - 可以设置输入限制
  - 支持占位文本

### 2. RichText (富文本)
- **用途**：显示格式化的文本
- **典型场景**：
  - 公告信息
  - 任务描述
  - 物品说明
  - 聊天消息
- **特点**：
  - 支持多种文本样式
  - 可以嵌入图片
  - 支持超链接

### 3. Animation (动画)
- **用途**：播放动画效果
- **典型场景**：
  - 界面过渡
  - 特效展示
  - 状态切换
- **特点**：
  - 支持关键帧动画
  - 可以设置动画曲线
  - 支持动画事件

## 组合使用示例

### 1. 角色信息面板
```json
{
    "name": "CharacterPanel",
    "components": [
        {
            "__type__": "cc.Sprite",
            "spriteFrame": "textures/panel_bg"
        }
    ],
    "children": [
        {
            "name": "Avatar",
            "components": [
                {
                    "__type__": "cc.Sprite",
                    "spriteFrame": "textures/character_avatar"
                }
            ]
        },
        {
            "name": "NameLabel",
            "components": [
                {
                    "__type__": "cc.Label",
                    "string": "角色名称",
                    "fontSize": 24
                }
            ]
        },
        {
            "name": "HpBar",
            "components": [
                {
                    "__type__": "cc.ProgressBar",
                    "progress": 0.8
                }
            ]
        }
    ]
}
```

### 2. 物品列表
```json
{
    "name": "ItemList",
    "components": [
        {
            "__type__": "cc.ScrollView",
            "vertical": true
        },
        {
            "__type__": "cc.Layout",
            "type": 1,
            "spacingY": 10
        }
    ],
    "children": [
        {
            "name": "Item1",
            "components": [
                {
                    "__type__": "cc.Sprite",
                    "spriteFrame": "textures/item_icon"
                },
                {
                    "__type__": "cc.Label",
                    "string": "物品名称"
                },
                {
                    "__type__": "cc.Button",
                    "interactable": true
                }
            ]
        }
    ]
}
```

## 最佳实践

1. **层级管理**
   - 使用 Panel 组织相关元素
   - 合理设置节点层级
   - 注意渲染顺序

2. **交互设计**
   - 按钮要有明显的反馈
   - 重要信息要突出显示
   - 操作要符合用户习惯

3. **性能优化**
   - 避免过多嵌套
   - 合理使用缓存
   - 注意内存占用

4. **适配考虑**
   - 支持不同分辨率
   - 考虑横竖屏切换
   - 适配不同设备

## UI 层级管理

### 1. 层级概念
- **定义**：UI 层级是指 UI 元素在屏幕上的显示顺序，类似于 Photoshop 中的图层概念
- **作用**：
  - 控制 UI 元素的显示顺序
  - 管理 UI 元素的遮挡关系
  - 优化渲染性能

### 2. 常见层级划分
- **背景层** (Layer 0)
  - 主界面背景
  - 场景背景
  - 环境特效
- **主界面层** (Layer 1)
  - 游戏主界面
  - 常驻UI元素
  - 状态栏
- **弹窗层** (Layer 2)
  - 系统弹窗
  - 功能面板
  - 提示框
- **特效层** (Layer 3)
  - 界面特效
  - 点击特效
  - 过渡动画
- **引导层** (Layer 4)
  - 新手引导
  - 操作提示
  - 遮罩层

### 3. 层级管理方式
```json
{
    "name": "MainUI",
    "layer": 1,
    "children": [
        {
            "name": "Background",
            "layer": 0,
            "components": [
                {
                    "__type__": "cc.Sprite",
                    "spriteFrame": "textures/bg"
                }
            ]
        },
        {
            "name": "Popup",
            "layer": 2,
            "components": [
                {
                    "__type__": "cc.Sprite",
                    "spriteFrame": "textures/popup_bg"
                }
            ]
        }
    ]
}
```

### 4. 层级管理最佳实践
1. **层级数量控制**
   - 建议使用 3-5 个层级
   - 避免过多层级导致管理困难
   - 同一功能模块尽量使用相同层级

2. **层级切换优化**
   - 使用层级组管理相关UI
   - 批量切换层级提高性能
   - 避免频繁切换层级

3. **层级与性能**
   - 高频率更新的UI放在上层
   - 静态UI放在下层
   - 合理使用层级缓存

4. **层级与交互**
   - 确保交互元素在正确层级
   - 处理层级间的点击穿透
   - 管理层级间的遮挡关系 